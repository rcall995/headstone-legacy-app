/* --- Font Imports --- */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Roboto:wght@300;400;500;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap');

/* --- CSS Variables & Global Styles --- */
:root {
    /* ===== PRIMARY COLORS ===== */
    --primary: #005F60;
    --primary-dark: #004a4b;
    --primary-light: #007a7b;

    /* Legacy aliases */
    --primary-color: var(--primary);
    --primary-color-dark: var(--primary-dark);

    /* ===== WARM NEUTRAL BACKGROUNDS ===== */
    --bg-cream: #FAF8F5;
    --bg-warm: #F5F3F0;
    --bg-white: #FFFFFE;

    /* Legacy alias */
    --light-gray: var(--bg-cream);

    /* ===== TEXT COLORS ===== */
    --text-primary: #2C3E50;
    --text-secondary: #5D6D7E;
    --text-muted: #7F8C8D;
    --text-muted-light: rgba(255,255,255,0.9);
    --text-muted-dark: #5D6D7E;

    /* Legacy alias */
    --secondary-color: var(--text-primary);

    /* ===== ACCENT COLORS ===== */
    --accent-gold: #C9A962;
    --accent-warm: #D4B896;

    /* Legacy alias */
    --accent-color: var(--accent-gold);

    /* ===== BORDERS ===== */
    --border-light: #E8E4DF;
    --border-medium: #D5CFC7;

    /* Legacy alias */
    --border-color: var(--border-light);

    /* ===== SHADOWS (warm-tinted) ===== */
    --shadow-sm: 0 2px 8px rgba(44, 62, 80, 0.06);
    --shadow-md: 0 4px 16px rgba(44, 62, 80, 0.10);
    --shadow-lg: 0 8px 32px rgba(44, 62, 80, 0.12);
    --shadow-xl: 0 16px 48px rgba(44, 62, 80, 0.16);

    /* ===== SPACING SCALE ===== */
    --space-xs: 0.5rem;
    --space-sm: 0.75rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;
    --space-2xl: 3rem;
    --space-3xl: 4rem;

    /* ===== BORDER RADIUS ===== */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 20px;
    --radius-full: 50%;

    /* ===== TRANSITIONS ===== */
    --transition-fast: 0.15s ease;
    --transition-base: 0.25s ease;
    --transition-slow: 0.4s ease;
}

html, body {
    margin: 0;
    padding: 0;
    width: 100%;
}

body {
    font-family: 'Roboto', sans-serif;
    background-color: var(--bg-cream);
    color: var(--text-primary);
    line-height: 1.7;
}

h1, .display-4 {
    font-family: 'Playfair Display', serif;
    font-style: normal;
    font-weight: 700;
    color: var(--primary);
}

h2, h3, h4, h5, .card-title {
    font-family: 'Roboto', sans-serif;
    font-style: normal;
    font-weight: 700;
    color: var(--text-primary);
}

/* Improved paragraph styling */
p {
    color: var(--text-secondary);
    line-height: 1.7;
}

/* Muted text uses warm gray */
.text-muted {
    color: var(--text-muted) !important;
}

.container { max-width: 1200px; }

/* --- Utility Classes --- */
.d-none-important { display: none !important; }

/* Responsive line break helpers */
.mobile-only { display: inline; }
.desktop-only { display: none; }

@media (min-width: 768px) {
    .mobile-only { display: none; }
    .desktop-only { display: inline; }
}

/* --- Component Enhancements --- */
.card {
    background: var(--bg-white);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    transition: transform var(--transition-base), box-shadow var(--transition-base);
}
.card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

/* ============================================
   UNIFIED COMPONENT SYSTEM
   ============================================ */

/* Unified Card - use for consistent card styling across all pages */
.card-unified {
    background: var(--bg-white);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    box-shadow: var(--shadow-sm);
    transition: transform var(--transition-base), box-shadow var(--transition-base);
}
.card-unified:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

/* Unified Section Styling */
.section-unified {
    padding: var(--space-3xl) var(--space-lg);
}
.section-unified.bg-cream {
    background-color: var(--bg-cream);
}
.section-unified.bg-white {
    background-color: var(--bg-white);
}
.section-unified.bg-warm {
    background-color: var(--bg-warm);
}

/* Unified Section Header */
.section-header-unified {
    text-align: center;
    margin-bottom: var(--space-2xl);
}
.section-header-unified h2 {
    font-family: 'Playfair Display', serif;
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: var(--space-sm);
}
.section-header-unified p {
    color: var(--text-secondary);
    font-size: 1.05rem;
    max-width: 600px;
    margin: 0 auto;
}

/* Icon Box - unified icon containers */
.icon-box-unified {
    width: 56px;
    height: 56px;
    min-width: 56px;
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
}
.icon-box-unified.accent {
    background: linear-gradient(135deg, var(--accent-gold), var(--accent-warm));
}
.icon-box-unified.lg {
    width: 72px;
    height: 72px;
    font-size: 1.75rem;
    border-radius: var(--radius-lg);
}
.memorial-list-item {
  position: relative; 
  z-index: 2;
}
.btn {
    transition: all var(--transition-base);
    border-radius: var(--radius-md);
}
.btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}
.btn-primary {
    background-color: var(--primary);
    border-color: var(--primary);
}
.btn-primary:hover {
    background-color: var(--primary-dark);
    border-color: var(--primary-dark);
}
.btn-accent {
    background-color: var(--accent-gold);
    border-color: var(--accent-gold);
    color: #fff;
}
.btn-accent:hover {
    background-color: #b8963f;
    border-color: #b8963f;
    color: #fff;
}

/* ===== UNIFIED BUTTON SYSTEM ===== */
.btn-primary-unified {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    background: var(--primary);
    color: white;
    padding: var(--space-md) var(--space-xl);
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 1rem;
    min-height: 48px;
    border: none;
    text-decoration: none;
    transition: all var(--transition-base);
    box-shadow: 0 4px 14px rgba(0, 95, 96, 0.25);
}
.btn-primary-unified:hover {
    background: var(--primary-dark);
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 95, 96, 0.35);
}

.btn-secondary-unified {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    background: var(--bg-white);
    color: var(--primary);
    padding: var(--space-md) var(--space-xl);
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 1rem;
    min-height: 48px;
    border: 2px solid var(--primary);
    text-decoration: none;
    transition: all var(--transition-base);
}
.btn-secondary-unified:hover {
    background: var(--primary);
    color: white;
    transform: translateY(-2px);
}

.btn-accent-unified {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    background: var(--accent-gold);
    color: white;
    padding: var(--space-md) var(--space-xl);
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 1rem;
    min-height: 48px;
    border: none;
    text-decoration: none;
    transition: all var(--transition-base);
    box-shadow: 0 4px 14px rgba(201, 169, 98, 0.25);
}
.btn-accent-unified:hover {
    background: #b8963f;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(201, 169, 98, 0.35);
}

/* Ensure minimum touch targets on mobile (44x44px minimum per WCAG) */
@media (max-width: 767px) {
    .btn-sm {
        min-height: 44px;
        padding: 0.5rem 1rem;
    }
    .mobile-menu-toggler {
        min-width: 44px;
        min-height: 44px;
    }
}

.form-control:focus, .form-select:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 0.25rem rgba(0, 95, 96, 0.15);
}

/* --- Header & Menu Styles --- */
header {
    display: none;
    padding: 1rem 0;
    border-bottom: 1px solid var(--border-light);
    background-color: var(--bg-white);
    box-shadow: var(--shadow-sm);
}
.header-visible { display: block; }

.logo-img { height: 80px; width: auto; }
.navbar-brand {
    padding-top: 0;
    padding-bottom: 0;
    transition: transform 0.2s ease;
}
.navbar-brand:hover {
    transform: scale(1.02);
}

/* Desktop logo sizing - larger and more prominent */
.navbar-brand-logo {
    height: 80px;
    width: auto;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

/* Brand text next to logo */
.brand-text {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--primary);
    letter-spacing: -0.5px;
    display: none; /* Hidden on mobile by default */
}

/* Tablet and Desktop - show brand text and larger logo */
@media (min-width: 768px) {
    .brand-text {
        display: inline-block;
    }
    .navbar-brand-logo {
        height: 85px;
    }
}

/* Large Desktop - even more prominent */
@media (min-width: 1200px) {
    .navbar-brand-logo {
        height: 90px;
    }
    .brand-text {
        font-size: 1.75rem;
    }
}

/* Mobile - smaller but still visible */
@media (max-width: 576px) {
    .navbar-brand-logo {
        height: 56px;
    }
    header {
        padding: 0.75rem 0;
    }
}

.navbar-nav .nav-link {
    font-size: 1.1rem;
    color: var(--text-primary);
    transition: color var(--transition-fast);
}
.navbar-nav .nav-link:hover { color: var(--primary); }

/* --- CARD-BASED MENU STYLES --- */
#card-menu-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: rgba(10, 25, 47, 0.98);
    backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
    z-index: 1050; display: flex; flex-direction: column;
    padding: 1rem; opacity: 0; pointer-events: none;
    transition: opacity 0.3s ease-in-out;
}
#card-menu-overlay.active { opacity: 1; pointer-events: auto; }

.card-menu-header {
    display: flex; justify-content: space-between; align-items: center;
    color: #fff; padding: 1rem; flex-shrink: 0;
}

.card-menu-content {
    flex: 1; overflow-y: auto; overflow-x: hidden;
    padding: 0 1rem 1rem 1rem;
    -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
}
.card-menu-header h2 { color: #fff; }

#curator-menu-items, #guest-menu-items, #universal-menu-items, #curator-nav-menu-items {
    display: flex; flex-direction: column; gap: 0.5rem;
}
.card-menu-item {
    display: flex; align-items: center; padding: 1rem;
    border-radius: 8px; transition: background-color 0.2s ease-in-out; color: #fff;
    position: relative; /* Allow absolute positioning of badges */
}
.card-menu-item:hover { background-color: rgba(255,255,255,0.1); color: #fff; }
.card-menu-item i { font-size: 1.5rem; color: var(--accent-color); width: 40px; text-align: center; }
.card-menu-text { margin-left: 1rem; }
.card-menu-title { color: #fff; margin: 0; font-size: 1.1rem; font-weight: 500; }
.card-menu-subtitle { color: rgba(255,255,255,0.85); font-size: 0.95rem; margin: 0; }
.card-menu-desc { color: rgba(255,255,255,0.75); font-size: 0.9rem; margin: 0.25rem 0 0 0; }
.card-menu-grid {
    display: grid; grid-template-columns: 1fr; gap: 1rem; padding: 1rem;
    overflow-y: auto; flex-grow: 1; align-content: start;
}
.menu-card {
    background-color: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 10px; padding: 1.5rem; text-align: center;
    color: #fff; text-decoration: none; transition: all 0.2s ease-in-out; position: relative; display: block;
}
.menu-card:hover, .menu-card:focus {
    transform: translateY(-5px);
    background-color: rgba(255,255,255,0.1);
    border-color: rgba(255,255,255,0.3);
    color: #fff;
}
.menu-card i { font-size: 2rem; color: var(--accent-color); margin-bottom: 1rem; }
.menu-card h4 { color: #fff; margin-bottom: 0.5rem; }
.menu-card p { color: rgba(255,255,255,0.8); font-size: 0.95rem; margin-bottom: 0; }
.notification-badge {
    position: absolute; top: 10px; right: 10px; background-color: #dc3545;
    color: white; width: 24px; height: 24px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: bold;
}
@media (min-width: 768px) { .card-menu-grid { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 992px) { .card-menu-grid { grid-template-columns: repeat(3, 1fr); } }
/* --- END: CARD-BASED MENU STYLES --- */

/* Fullscreen Mobile Menu Styling */
.modal-fullscreen .modal-header { border-bottom: 1px solid #dee2e6; background-color: var(--light-gray); }
.modal-fullscreen .modal-body { background-color: var(--light-gray); }
.modal-fullscreen .nav-link { color: var(--secondary-color); }

/* --- Homepage Styles --- */
.hero-section {
    position: relative; padding: 6rem 2rem;
    background-image: url('/images/hero-bg.jpg');
    background-size: cover; background-position: center; background-attachment: fixed;
    color: #fff;
}
.hero-section::before {
    content: ''; position: absolute; inset: 0;
    background-color: rgba(0,0,0,0.5); z-index: 1;
}
.hero-content { position: relative; z-index: 2; }
.hero-section .display-4 { color: #fff; font-weight: bold; text-shadow: 1px 1px 3px rgba(0,0,0,0.4); }
.hero-section .display-4 span { display: block; } /* keep headline on separate lines */

/* Added: hero logo sizing class (used when logo is the hero) */
.home-hero-logo {
    max-width: 480px; width: 70vw; height: auto;
    display: block; margin: 2rem auto 1rem;
}

.hero-subtitle {
    font-size: 1.5rem; max-width: 600px; margin: 0.5rem auto 0 auto;
    color: rgba(255,255,255,0.9);
}

.icon-square { width: 3rem; height: 3rem; border-radius: .75rem; display: inline-flex; align-items: center; justify-content: center; }

.recent-memorial-card { overflow: hidden; transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
.recent-memorial-card:hover { transform: translateY(-5px); box-shadow: 0 8px 16px rgba(0,0,0,0.1); }
.recent-memorial-img-container { width: 100%; aspect-ratio: 1 / 1; overflow: hidden; }
.recent-memorial-img { width: 100%; height: 100%; object-fit: cover; }

#homepage-map-container { width: 100%; aspect-ratio: 1 / 1; border-radius: 10px; }
.map-wrapper-homepage { position: relative; }
.gps-button { position: absolute; top: 10px; left: 10px; z-index: 10; border-radius: 50%; }

/* --- Memorial Page Styles --- */
.memorial-page-header { padding: 2rem 0; background-color: #fff; border-bottom: 1px solid var(--border-color); }
.memorial-header-name { font-size: 2.5rem; font-weight: 700; color: #343A40; line-height: 1.2; }

#display-main-media img {
    max-width: 400px; max-height: 400px; width: 100%; object-fit: cover;
    border-radius: 15px; border: 6px solid #fff; box-shadow: var(--shadow-md);
}

.scrolly-section { display: grid; gap: 1.5rem; }
.card-title i { color: var(--accent-color); }

.map-container-wrapper {
    position: relative; height: 300px; border-radius: .375rem; overflow: hidden; cursor: pointer;
}
.map-container-wrapper .map-crosshair {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    font-size: 2.5rem; z-index: 10; pointer-events: none; text-shadow: 0 0 4px white;
}

.photo-gallery-item { cursor: zoom-in; overflow: hidden; border-radius: 8px; border: 1px solid #eee; }
.photo-gallery-item img { width: 100%; height: 100%; object-fit: cover; display: block; transition: transform 0.2s ease-in-out; }
.photo-gallery-item:hover img { transform: scale(1.03); }

.image-zoom-modal { background-color: rgba(0,0,0,0.85); }
.image-zoom-modal .modal-content { background-color: transparent; border: none; box-shadow: none; }
.image-zoom-modal .btn-close { filter: invert(1) grayscale(100%) brightness(200%); opacity: 1; }
.modal-nav-btn {
    position: absolute; top: 50%; transform: translateY(-50%);
    background-color: rgba(0,0,0,0.3); color: white; border: none; font-size: 2rem;
    padding: 0.5rem 1rem; border-radius: 0.3rem; z-index: 1060; cursor: pointer;
}
.modal-nav-btn:hover { background-color: rgba(0,0,0,0.6); }
.modal-nav-btn.prev { left: 10px; }
.modal-nav-btn.next { right: 10px; }
.modal-actions { position: absolute; top: 1rem; right: 4rem; z-index: 1060; }

/* --- Family Tree Styles --- */
#tree-container svg { display: block; margin: auto; }
.tree-node text { text-anchor: middle; font-size: 14px; font-family: 'Roboto', sans-serif; }

/* --- Memorial Form Wizard Styles --- */
#memorialForm .wizard-step { display: none; animation: fadeIn 0.5s ease-in-out; }
#memorialForm .wizard-step.active { display: block; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

.wizard-progress {
    display: flex;
    list-style: none;
    padding: 0;
    margin-bottom: 2rem;
    position: relative;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}
.wizard-progress-step {
    flex: 1;
    text-align: center;
    padding: 1rem;
    background-color: #f8f9fa;
    color: #6c757d;
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap;
    border-bottom: 2px solid transparent;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-size: 0.9rem;
}
.wizard-progress-step .step-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background-color: #fff;
    border: 2px solid var(--border-color);
    margin: 0 auto 0.5rem auto;
    transition: all 0.3s ease;
    font-size: 0.8rem;
    font-weight: bold;
}
.wizard-progress-step.active {
    background-color: #fff;
    color: #000;
    font-weight: bold;
    border-bottom: 2px solid var(--primary-color);
}
.wizard-progress-step.active .step-number {
    border-color: var(--primary-color);
    background-color: var(--primary-color);
    color: #fff;
}
.wizard-progress-step.completed .step-number {
    border-color: var(--primary-color);
    background-color: #fff;
    color: var(--primary-color);
}
.wizard-progress-step.completed {
    background-color: #e9ecef;
    color: #495057;
}
.wizard-navigation { display: flex; justify-content: space-between; align-items: center; padding-top: 1.5rem; border-top: 1px solid var(--border-color); }

/* --- Original Memorial Form Styles --- */
#memorialForm h4 { border-bottom: 1px solid #eee; padding-bottom: 0.5rem; margin-bottom: 1.5rem; }

.media-preview-item { position: relative; margin-bottom: 0.5rem; }
.media-preview-item img { width: 100%; height: 100px; object-fit: cover; }
.remove-media-btn {
    position: absolute; top: 5px; right: 15px; border-radius: 50%;
    width: 44px; height: 44px; min-width: 44px; min-height: 44px;
    display: flex; align-items: center; justify-content: center; padding: 0; line-height: 1;
}
.drag-handle { cursor: grab; color: #ccc; font-size: 1.2rem; }

/* --- CURATOR DASHBOARD V2 STYLES --- */
.dashboard-theme-wrapper {
    background-color: #0a192f; color: #e6f1ff; min-height: 100vh;
    position: relative; overflow: hidden;
}
.dashboard-theme-wrapper::before {
    content: ''; position: absolute; inset: 0;
    background: radial-gradient(600px circle at var(--mouse-x) var(--mouse-y), rgba(0,95,96,0.2), transparent 80%);
    z-index: 0; opacity: 0; transition: opacity 0.5s;
}
.dashboard-theme-wrapper.spotlight-active::before { opacity: 1; }
@keyframes gentle-pulse {
    0% { transform: scale(1); opacity: 0.5; }
    50% { transform: scale(1.2); opacity: 0.7; }
    100% { transform: scale(1); opacity: 0.5; }
}
@media (max-width: 767px) {
    .dashboard-theme-wrapper::before {
        background: radial-gradient(circle at 50% 20%, rgba(0,95,96,0.2), transparent 80%);
        animation: gentle-pulse 15s infinite ease-in-out;
    }
    .dashboard-header .btn { width: 100%; }
}
.dashboard-header { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; position: relative; z-index: 1; }
.dashboard-title { font-family: 'Playfair Display', serif; color: #fff; font-style: italic; }
.dashboard-header .lead { color: rgba(255,255,255,0.9) !important; }

.stat-card-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; position: relative; z-index: 1; }
.stat-card {
    background-color: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
    border-radius: 10px; padding: 1rem; text-align: center;
}
.stat-card.action-needed { border-left: 4px solid var(--accent-color); }
.stat-card-content h3 { color: #fff; font-size: 2rem; margin: 0; }
.stat-card-content p { margin: 0; font-size: 0.85rem; color: rgba(255,255,255,0.85); }

.dashboard-content-grid { display: grid; grid-template-columns: 1fr; gap: 2rem; position: relative; z-index: 1; }
@media (min-width: 992px) { .dashboard-content-grid { grid-template-columns: 2fr 1fr; } }

.dashboard-section-title {
    color: #fff; padding-bottom: 0.5rem; border-bottom: 1px solid rgba(255,255,255,0.1); margin-bottom: 1.5rem;
}

.memorial-list { display: grid; gap: 0.75rem; }
.memorial-list-item {
    background-color: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
    border-radius: 8px; padding: 1rem; transition: background-color 0.2s ease; text-align: center;
}
.memorial-list-item:hover { background-color: rgba(255,255,255,0.1); }
.memorial-list-item-info h5 { color: #fff; margin: 0; font-family: 'Roboto', sans-serif; font-size: 1.1rem; }
.memorial-list-item-info p { color: rgba(255,255,255,0.85); margin: 0; font-size: 0.9rem; }
.memorial-list-item-actions { margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(255,255,255,0.1); display: flex; gap: 0.5rem; }
.memorial-list-item-actions .btn { flex-grow: 1; font-size: 0.9rem; padding: 0.5rem; }

.pending-card {
    background-color: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
    border-radius: 8px; padding: 1rem; display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: 1rem;
}
.pending-card-icon i { font-size: 1.5rem; color: var(--accent-color); }
.pending-card-body h6 { color: #fff; margin: 0; }
.pending-card-body p { color: rgba(255,255,255,0.9); margin: 0; font-size: 0.9rem; }
.pending-card-body .pending-description { font-style: italic; margin-top: 0.25rem; }

.empty-state-container { background-color: transparent; border-color: rgba(255,255,255,0.2); color: rgba(255,255,255,0.9); }
.empty-state-container .text-muted { color: rgba(255,255,255,0.85) !important; }
.empty-state-container i { color: var(--accent-color); margin-bottom: 1rem; }
/* --- END: CURATOR DASHBOARD V2 STYLES --- */

/* --- SCOUT MODE V2 "HUD" STYLES --- */
body.scout-mode-active { background-color: #000; }
body.scout-mode-active .scout-header,
body.scout-mode-active .scout-footer {
    background-color: rgba(10, 25, 47, 0.8);
    backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
    border-color: rgba(255, 255, 255, 0.1); color: #e6f1ff;
}
body.scout-mode-active .scout-header h5,
body.scout-mode-active .scout-footer p,
body.scout-mode-active .directions-steps .step { color: #e6f1ff; }
body.scout-mode-active .directions-steps .step span {
    background-color: rgba(255,255,255,0.2); color: #fff;
}
body.scout-mode-active .directions-steps .step.active { font-weight: bold; color: #fff; }
body.scout-mode-active .directions-steps .step.active span {
    background-color: var(--accent-color); color: #0a192f;
}

/* --- ADDED: Memorial Tier Emphasis --- */
#memorial-tier-heading {
  font-family: 'Playfair Display', serif;
  font-size: 1.45rem;
  color: #113242;
  margin-bottom: .25rem;
}
/* Tier card styles removed - now defined in memorial-form.css only */

/* --- Hover States for Interactive Elements --- */
a:not(.btn):hover {
  text-decoration: underline;
  opacity: 0.85;
}

.memorial-list-item {
  transition: background-color 0.2s ease, transform 0.1s ease;
}

.memorial-list-item:hover {
  background-color: rgba(255,255,255,0.12) !important;
  transform: translateY(-2px);
}

.card:not(.no-hover):hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 16px rgba(0,0,0,0.15);
}

/* --- Toast Notifications --- */
.toast-container { z-index: 1100; }

/* --- SAVE CONFIRMATION OVERLAY --- */
#save-confirmation-overlay {
    position: fixed; inset: 0; background-color: rgba(0,0,0,0.6);
    display: flex; justify-content: center; align-items: center;
    z-index: 2000; opacity: 0; pointer-events: none;
    transition: opacity 0.3s ease-in-out;
}
#save-confirmation-overlay.visible { opacity: 1; }
#save-confirmation-overlay .content {
    background-color: white; padding: 2rem 3rem; border-radius: 10px;
    text-align: center; font-size: 1.2rem; font-weight: 500; box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}
#save-confirmation-overlay .content i {
    color: #198754; font-size: 2rem; display: block; margin-bottom: 1rem;
}

/* --- Timeline Styles --- */
.timeline { list-style: none; padding: 1rem; margin: 0; }
.timeline-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 1.5rem;
    position: relative;
}
.timeline-item::after {
    content: '';
    position: absolute;
    left: 14px;
    top: 28px;
    width: 2px;
    height: calc(100% + 0.5rem);
    background: #e9ecef;
}
.timeline-item:last-child::after { display: none; }
.timeline-bullet {
    flex-shrink: 0;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: var(--primary-color);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 10px;
    border: 2px solid white;
    box-shadow: 0 0 0 2px var(--light-gray);
    z-index: 1;
}
.timeline-item.timeline-item-historical .timeline-bullet { background: #6c757d; }
.timeline-item.timeline-item-major .timeline-bullet { background: var(--secondary-color); }
.timeline-content { flex: 1; padding-top: 3px; }
.timeline-item-year { font-weight: bold; color: var(--primary-color); font-size: 1.1rem; margin-bottom: 0.25rem; }
.timeline-item.timeline-item-historical { color: #6c757d; font-style: italic; }
.timeline-item.timeline-item-historical .timeline-item-year { color: #6c757d; }
.timeline-item:not(.timeline-item-historical) p { font-weight: bold; margin: 0; }

/* --- Responsive Styles --- */
@media (min-width: 992px) {
    .map-container-wrapper { height: 600px; }
    .hero-section { padding-top: 8rem; padding-bottom: 8rem; }
}
@media (max-width: 991px) {
    header.header-visible { position: sticky; top: 0; z-index: 1020; }
}
@media (max-width: 767px) {
    .hero-section { padding: 4rem 1rem; background-attachment: scroll; }
    .hero-section h1, .hero-section .display-4 { font-size: 1.8rem; }
    .hero-section .display-4 span { display: block; white-space: normal; }
    .home-hero-logo { max-width: 300px; margin-top: 1rem; }
    .memorial-header-name { font-size: 2rem; }
}

/* --- Pricing Page Styles --- */
.border-primary { border-color: var(--primary-color) !important; }
.pricing-header-featured { background-color: #e6f0f0; }

/* --- Welcome Page Styles --- */
.welcome-container {
    display: flex; align-items: center; justify-content: center; min-height: 100vh;
    padding: 2rem; background-image: url('/images/hero-bg.jpg'); background-size: cover; background-position: center; position: relative;
}
.welcome-container::before { content: ''; position: absolute; inset: 0; background-color: rgba(0,0,0,0.5); }
.welcome-card {
    position: relative; max-width: 500px; background-color: rgba(255,255,255,0.95);
    border-radius: 15px; padding: 2rem; text-align: center; box-shadow: var(--shadow-md);
}
.welcome-logo { height: 80px; width: auto; margin-bottom: 1.5rem; }

/* --- START: CORRECTED CODE --- */
/* Robust scroll-locking for active menu */
body.menu-active { overflow: hidden; }

/* Custom styles for the mobile menu button to avoid Bootstrap JS conflicts */
.mobile-menu-toggler {
    padding: 0.25rem 0.75rem; font-size: 1.25rem; line-height: 1;
    background-color: transparent; border: 1px solid rgba(0,0,0,0.1);
    border-radius: 0.25rem; transition: box-shadow 0.15s ease-in-out;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
}
.mobile-menu-toggler:active {
    background-color: rgba(0,0,0,0.05);
}
.mobile-menu-toggler:focus { text-decoration: none; outline: 0; box-shadow: 0 0 0 0.25rem; }
.navbar-toggler-icon {
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%280, 0, 0, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
  display: inline-block;
  width: 1.5em;
  height: 1.5em;
  vertical-align: middle;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 100%;
}
/* Hide the mobile menu toggler on large screens */
@media (min-width: 992px) { .mobile-menu-toggler { display: none; } }

/* --- Added for Pricing Card Button Alignment --- */
.card .card-body {
    display: flex;
    flex-direction: column;
}
.card .card-body .btn {
    margin-top: auto;
}

/* --- Mobile Optimization Breakpoints --- */
@media (max-width: 767px) {
  /* Order Tag Page Mobile */
  .order-tag-page .row.g-5 {
    flex-direction: column-reverse;
  }

  .order-tag-page .col-md-5,
  .order-tag-page .col-lg-4 {
    order: -1;
    position: sticky;
    top: 80px;
    z-index: 100;
  }

  .order-tag-page #checkout-button {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    border-radius: 0;
    padding: 1.25rem;
    margin: 0;
  }

  .order-tag-page .trust-badges {
    font-size: 0.9rem;
  }

  /* Homepage Hero Text - 3 lines on mobile */
  .home-hero h1 {
    font-size: 1.65rem !important;
    line-height: 1.4;
    max-width: 320px;
    margin-left: auto;
    margin-right: auto;
  }

  .home-hero h1 br {
    display: none;
  }
}

/* --- OUTDOOR/MOBILE OPTIMIZATIONS --- */
/* High contrast mode for bright sunlight readability */
@media (max-width: 767px) {
    /* Increase base font size for outdoor readability */
    body {
        font-size: 16px;
    }

    /* Make all text more readable */
    .text-muted {
        color: #5a6268 !important; /* Darker than default for better contrast */
    }

    /* Larger, bolder headings */
    h1, .display-4 {
        font-weight: 700;
        font-style: normal; /* Remove italic for better outdoor readability */
    }

    /* Memorial page - ensure readability */
    .memorial-header-name {
        font-size: 1.75rem;
        font-weight: 700;
        line-height: 1.3;
    }

    /* Larger tap targets for cemetery use (gloves, cold hands) */
    .btn {
        min-height: 48px;
        padding: 0.75rem 1.25rem;
        font-size: 1rem;
    }

    .btn-lg {
        min-height: 56px;
        padding: 1rem 1.5rem;
        font-size: 1.1rem;
    }

    /* Card menu items - larger touch targets */
    .card-menu-item {
        padding: 1.25rem;
        min-height: 60px;
    }

    .card-menu-title {
        font-size: 1.15rem;
        font-weight: 600;
    }

    /* Scout mode specific - larger elements */
    .scout-cta .btn {
        font-size: 1.1rem;
        padding: 1rem 1.5rem;
        min-height: 56px;
    }
}

/* Extra high contrast for very bright conditions (optional class) */
.high-contrast-mode {
    --primary-color: #004445;
    --secondary-color: #1a1a1a;
}

.high-contrast-mode .text-muted {
    color: #3d4852 !important;
}

.high-contrast-mode body {
    background-color: #fff;
}

/* ============================================
   MOBILE-FIRST HOMEPAGE REDESIGN
   ============================================ */

/* Hero Section - Mobile First */
.home-hero-mobile {
    background: linear-gradient(135deg, var(--bg-cream) 0%, #f0ede8 50%, var(--bg-warm) 100%);
    padding: 2rem 1.25rem 2.5rem;
    min-height: calc(100vh - 80px);
    display: flex;
    align-items: center;
}

.hero-content-wrapper {
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
}

.hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: rgba(0, 95, 96, 0.08);
    color: var(--primary);
    padding: 0.5rem 1rem;
    border-radius: 50px;
    font-size: 0.85rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
}

.hero-badge i {
    color: #c0392b;
}

.hero-headline {
    font-family: 'Playfair Display', serif;
    font-size: 2rem;
    font-weight: 700;
    line-height: 1.2;
    color: var(--text-primary);
    margin-bottom: 1rem;
    font-style: normal;
}

.hero-highlight {
    color: var(--primary);
    display: block;
}

.hero-subtext {
    font-size: 1.05rem;
    line-height: 1.7;
    color: var(--text-secondary);
    margin-bottom: 2rem;
}

.hero-cta-stack {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-bottom: 2rem;
}

.btn-hero-primary {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    background: var(--primary-color);
    color: #fff;
    padding: 1rem 1.5rem;
    border-radius: 12px;
    font-size: 1.1rem;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.2s ease;
    box-shadow: 0 4px 14px rgba(0, 95, 96, 0.3);
}

.btn-hero-primary:hover {
    background: var(--primary-color-dark);
    color: #fff;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 95, 96, 0.4);
}

.btn-hero-secondary {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    background: #fff;
    color: var(--primary-color);
    padding: 1rem 1.5rem;
    border-radius: 12px;
    font-size: 1rem;
    font-weight: 600;
    text-decoration: none;
    border: 2px solid var(--primary-color);
    transition: all 0.2s ease;
}

.btn-hero-secondary:hover {
    background: var(--primary-color);
    color: #fff;
}

.hero-trust-badges {
    display: flex;
    justify-content: center;
    gap: 1.25rem;
    flex-wrap: wrap;
}

.trust-item {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    font-size: 0.8rem;
    color: #666;
}

.trust-item i {
    color: #27ae60;
    font-size: 0.9rem;
}

/* Value Cards Section */
.value-cards-section {
    padding: var(--space-2xl) 0;
    background: var(--bg-white);
}

a.value-card,
.value-card {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    background: var(--bg-white);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    margin-bottom: var(--space-md);
    transition: all var(--transition-base);
    cursor: pointer;
    box-shadow: var(--shadow-sm);
    text-decoration: none;
    color: inherit;
}

.value-card:hover {
    border-color: var(--primary);
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

.value-card-icon {
    width: 56px;
    height: 56px;
    min-width: 56px;
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 1.5rem;
}

.value-card-icon.accent {
    background: linear-gradient(135deg, var(--accent-gold), var(--accent-warm));
}

.value-card-content {
    flex: 1;
}

.value-card-content h3 {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text-primary);
    margin: 0 0 0.25rem 0;
}

.value-card-content p {
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin: 0 0 0.5rem 0;
    line-height: 1.5;
}

.value-card-price {
    display: inline-block;
    background: #e8f5e9;
    color: #2e7d32;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
}

.value-card-badge {
    display: inline-block;
    background: #fff3e0;
    color: #e65100;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
}

.value-card-arrow {
    color: #ccc;
    font-size: 1rem;
}

/* Steps Section */
.steps-section {
    padding: var(--space-3xl) 0;
    background: var(--bg-cream);
}

.section-title {
    font-family: 'Playfair Display', serif;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-primary);
    text-align: center;
    margin-bottom: var(--space-2xl);
}

.steps-timeline {
    position: relative;
    padding-left: 2rem;
}

.steps-timeline::before {
    content: '';
    position: absolute;
    left: 15px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: linear-gradient(to bottom, var(--primary), var(--accent-gold));
}

.step-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 1.5rem;
    position: relative;
}

.step-item:last-child {
    margin-bottom: 0;
}

.step-number {
    width: 32px;
    height: 32px;
    min-width: 32px;
    background: var(--primary);
    color: #fff;
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.9rem;
    position: relative;
    z-index: 1;
    margin-left: -1rem;
}

.step-content h4 {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text-primary);
    margin: 0 0 0.25rem 0;
}

.step-content p {
    font-size: 0.95rem;
    color: var(--text-secondary);
    margin: 0;
    line-height: 1.5;
}

/* Featured Section */
.featured-section {
    padding: var(--space-3xl) 0;
    background: var(--bg-white);
}

.section-header {
    text-align: center;
    margin-bottom: var(--space-lg);
}

.section-subtitle {
    color: var(--text-secondary);
    font-size: 0.95rem;
    margin: 0;
}

.featured-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-md);
}

/* Recent Memorials Section */
.recent-memorials-section {
    padding: var(--space-3xl) 0;
    background: var(--bg-warm);
}

.recent-memorials-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-lg);
}

@media (min-width: 768px) {
    .recent-memorials-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

.recent-memorial-card {
    display: flex;
    flex-direction: column;
    background: var(--bg-white);
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-md);
    text-decoration: none;
    color: inherit;
    transition: var(--transition-base);
}

.recent-memorial-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
    text-decoration: none;
    color: inherit;
}

.recent-memorial-photo {
    position: relative;
    width: 100%;
    padding-top: 100%; /* 1:1 aspect ratio */
    background: var(--bg-cream);
    overflow: hidden;
}

.recent-memorial-photo img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.recent-memorial-info {
    padding: var(--space-md);
    text-align: center;
}

.recent-memorial-name {
    font-family: 'Playfair Display', serif;
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0 0 var(--space-xs) 0;
    line-height: 1.3;
}

.recent-memorial-date {
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin: 0;
    line-height: 1.4;
}

/* Map Section */
.map-section {
    padding: var(--space-3xl) 0;
    background: var(--bg-cream);
}

.map-container-home {
    height: 300px;
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-lg);
}

/* Final CTA Section */
.final-cta-section {
    padding: var(--space-3xl) var(--space-lg);
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    text-align: center;
}

.cta-content h2 {
    font-family: 'Playfair Display', serif;
    font-size: 1.5rem;
    color: #fff;
    margin-bottom: var(--space-sm);
}

.cta-content p {
    color: var(--text-muted-light);
    margin-bottom: var(--space-lg);
    font-size: 1rem;
}

.btn-cta-light {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: var(--bg-white);
    color: var(--primary);
    padding: var(--space-md) var(--space-xl);
    border-radius: var(--radius-md);
    font-size: 1.1rem;
    font-weight: 600;
    text-decoration: none;
    transition: all var(--transition-base);
    box-shadow: var(--shadow-md);
}

.btn-cta-light:hover {
    background: var(--bg-cream);
    color: var(--primary);
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

/* Desktop Adjustments */
@media (min-width: 768px) {
    .home-hero-mobile {
        padding: 4rem 2rem;
    }

    .hero-headline {
        font-size: 2.75rem;
    }

    .hero-cta-stack {
        flex-direction: row;
        justify-content: center;
    }

    .btn-hero-primary,
    .btn-hero-secondary {
        padding: 1rem 2rem;
    }

    .value-cards-section .container {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
    }

    .value-card {
        margin-bottom: 0;
    }

    .steps-timeline {
        display: flex;
        justify-content: center;
        gap: 3rem;
        padding-left: 0;
    }

    .steps-timeline::before {
        display: none;
    }

    .step-item {
        flex-direction: column;
        align-items: center;
        text-align: center;
        max-width: 200px;
    }

    .step-number {
        margin-left: 0;
        margin-bottom: 1rem;
        width: 48px;
        height: 48px;
        font-size: 1.1rem;
    }

    .featured-grid {
        grid-template-columns: repeat(4, 1fr);
    }

    .map-container-home {
        height: 450px;
    }

    .section-title {
        font-size: 2rem;
    }

    .final-cta-section {
        padding: 4rem 2rem;
    }

    .cta-content h2 {
        font-size: 2rem;
    }
}

/* ============================================
   SHARED PAGE STYLES
   ============================================ */

.page-wrapper {
    background: var(--bg-cream);
}

/* Page Hero */
.page-hero {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    padding: var(--space-3xl) var(--space-lg);
    text-align: center;
}

.page-hero-title {
    font-family: 'Playfair Display', serif;
    font-size: 2rem;
    font-weight: 700;
    color: #fff;
    margin-bottom: var(--space-sm);
}

.page-hero-subtitle {
    font-size: 1.05rem;
    color: var(--text-muted-light);
    max-width: 600px;
    margin: 0 auto;
}

/* Hero badge on dark page-hero backgrounds */
.page-hero .hero-badge {
    background: rgba(255, 255, 255, 0.15);
    color: white;
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.5;
}

/* ============================================
   HOW IT WORKS PAGE
   ============================================ */

.hiw-steps-section {
    padding: var(--space-2xl) 0;
    background: var(--bg-cream);
}

.hiw-step {
    background: var(--bg-white);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    margin-bottom: var(--space-lg);
    box-shadow: var(--shadow-sm);
}

.hiw-step-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}

.hiw-step-number {
    width: 48px;
    height: 48px;
    min-width: 48px;
    background: var(--primary);
    color: #fff;
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
    font-weight: 700;
}

.hiw-step-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--primary);
    margin: 0;
}

.hiw-step-desc {
    color: var(--text-secondary);
    line-height: 1.7;
    margin-bottom: var(--space-md);
}

.hiw-checklist {
    list-style: none;
    padding: 0;
    margin: 0 0 var(--space-lg) 0;
}

.hiw-checklist li {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-xs) 0;
    color: var(--text-primary);
    font-size: 0.95rem;
}

.hiw-checklist li i {
    color: #27ae60;
    font-size: 0.85rem;
}

.hiw-step-visual {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-lg);
    background: linear-gradient(135deg, var(--bg-cream) 0%, var(--bg-warm) 100%);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-md);
}

.hiw-icon-box {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    border-radius: var(--radius-xl);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 2rem;
}

.hiw-icon-box.accent {
    background: linear-gradient(135deg, var(--accent-gold), var(--accent-warm));
}

.hiw-step-visual span {
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.hiw-cta-btn {
    width: 100%;
    margin-top: 0.5rem;
}

/* Features Section */
.hiw-features-section {
    padding: var(--space-3xl) 0;
    background: var(--bg-warm);
}

.hiw-features-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-md);
}

.hiw-feature-card {
    background: var(--bg-white);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    text-align: center;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-light);
}

.hiw-feature-icon {
    width: 64px;
    height: 64px;
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 1.5rem;
    margin: 0 auto var(--space-md);
}

.hiw-feature-icon.accent {
    background: linear-gradient(135deg, var(--accent-gold), var(--accent-warm));
}

.hiw-feature-card h3 {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: var(--space-xs);
}

.hiw-feature-card p {
    color: var(--text-secondary);
    font-size: 0.95rem;
    margin: 0;
    line-height: 1.6;
}

/* ============================================
   PRICING PAGE
   ============================================ */

.pricing-section {
    padding: var(--space-2xl) 0;
    background: var(--bg-cream);
}

.pricing-card {
    background: var(--bg-white);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    margin-bottom: var(--space-lg);
    position: relative;
    box-shadow: var(--shadow-sm);
}

.pricing-card.featured {
    border: 2px solid var(--primary);
    box-shadow: var(--shadow-lg);
}

.pricing-card-badge {
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--primary);
    color: #fff;
    padding: 0.35rem 1rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
}

.pricing-card-header {
    text-align: center;
    margin-bottom: var(--space-md);
    padding-top: var(--space-xs);
}

.pricing-card-header h3 {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-primary);
    margin: 0 0 0.25rem 0;
}

.pricing-tier-tag {
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.pricing-card-price {
    text-align: center;
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-md);
    border-bottom: 1px solid var(--border-light);
}

.pricing-card-price .price {
    display: block;
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--primary);
}

.pricing-card-price .period {
    font-size: 0.9rem;
    color: var(--text-secondary);
}

.pricing-includes {
    text-align: center;
    font-size: 0.9rem;
    color: var(--primary);
    font-weight: 600;
    margin-bottom: var(--space-md);
}

.pricing-features {
    list-style: none;
    padding: 0;
    margin: 0 0 var(--space-lg) 0;
}

.pricing-features li {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
    padding: var(--space-xs) 0;
    font-size: 0.95rem;
    color: var(--text-primary);
}

.pricing-features li i {
    color: #27ae60;
    margin-top: 0.15rem;
}

.pricing-btn {
    width: 100%;
}

/* QR Upsell */
.qr-upsell-section {
    padding: var(--space-2xl) 0 var(--space-3xl);
    background: var(--bg-warm);
}

.qr-upsell-card {
    background: var(--bg-white);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    box-shadow: var(--shadow-md);
    border: 1px solid var(--border-light);
}

.qr-upsell-icon {
    width: 64px;
    height: 64px;
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 1.75rem;
    margin: 0 auto var(--space-md);
}

.qr-upsell-content {
    text-align: center;
    margin-bottom: var(--space-lg);
}

.qr-upsell-content h3 {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: var(--space-xs);
}

.qr-upsell-content p {
    color: var(--text-secondary);
    font-size: 0.95rem;
    margin-bottom: var(--space-md);
}

.qr-upsell-features {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    justify-content: center;
    gap: 1.5rem;
}

.qr-upsell-features li {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
    color: #333;
}

.qr-upsell-features li i {
    color: #27ae60;
}

.qr-upsell-price {
    text-align: center;
}

.qr-upsell-price .price {
    display: block;
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary-color);
}

.qr-upsell-price .period {
    display: block;
    font-size: 0.85rem;
    color: #666;
    margin-bottom: 1rem;
}

/* ============================================
   SCOUT PAGE
   ============================================ */

.scout-info-section {
    padding: var(--space-2xl) 0;
    background: var(--bg-cream);
}

.scout-info-card {
    display: flex;
    gap: var(--space-md);
    padding: var(--space-lg);
    background: var(--bg-white);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    margin-bottom: var(--space-md);
    box-shadow: var(--shadow-sm);
}

.scout-info-icon {
    width: 56px;
    height: 56px;
    min-width: 56px;
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 1.5rem;
}

.scout-info-icon.accent {
    background: linear-gradient(135deg, var(--accent-gold), var(--accent-warm));
}

.scout-info-content h2 {
    font-size: 1.15rem;
    font-weight: 700;
    color: var(--text-primary);
    margin: 0 0 var(--space-xs) 0;
}

.scout-info-content p {
    color: var(--text-secondary);
    font-size: 0.95rem;
    margin: 0;
    line-height: 1.6;
}

.scout-benefits-section {
    padding: var(--space-2xl) 0 var(--space-3xl);
    background: var(--bg-warm);
}

.scout-benefits-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-md);
}

.scout-benefit {
    background: var(--bg-white);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
    text-align: center;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-light);
}

.scout-benefit i {
    font-size: 1.5rem;
    color: var(--accent-gold);
    margin-bottom: var(--space-xs);
    display: block;
}

.scout-benefit span {
    font-size: 0.9rem;
    color: var(--text-primary);
    font-weight: 500;
}

/* ============================================
   QR TAG INFO PAGE STYLES
   ============================================ */

.qr-info-section {
    padding: 2rem 0;
}

.qr-features-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
    margin-bottom: 2rem;
}

.qr-feature-card {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
    box-shadow: var(--shadow-sm);
}

.qr-feature-icon {
    width: 60px;
    height: 60px;
    background: var(--primary-color);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1rem;
}

.qr-feature-icon i {
    font-size: 1.5rem;
    color: white;
}

.qr-feature-icon.accent {
    background: var(--accent-color);
}

.qr-feature-card h3 {
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
    color: var(--primary-color);
}

.qr-feature-card p {
    font-size: 0.9rem;
    color: var(--text-muted-dark);
    margin: 0;
    line-height: 1.5;
}

.qr-price-banner {
    background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-color-dark) 100%);
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
}

.qr-price-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;
}

.qr-price {
    font-size: 2.5rem;
    font-weight: 700;
    color: white;
}

.qr-price-details {
    color: var(--text-muted-light);
    font-size: 0.9rem;
}

.memorial-select-section {
    padding: 2rem 0 3rem;
    background: var(--light-gray);
}

.memorial-select-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
}

.memorial-select-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    background: white;
    border-radius: 12px;
    padding: 1rem;
    text-decoration: none;
    color: inherit;
    box-shadow: var(--shadow-sm);
    transition: transform 0.2s, box-shadow 0.2s;
}

.memorial-select-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
    color: inherit;
    text-decoration: none;
}

.memorial-select-photo {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    overflow: hidden;
    background: var(--light-gray);
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.memorial-select-photo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.memorial-select-photo i {
    font-size: 1.5rem;
    color: #ccc;
}

.memorial-select-info {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.memorial-select-info h4 {
    font-size: 1rem;
    margin: 0;
    color: var(--secondary-color);
}

/* ============================================
   DESKTOP ADJUSTMENTS FOR PAGES
   ============================================ */

@media (min-width: 768px) {
    .page-hero {
        padding: 4rem 2rem;
    }

    .page-hero-title {
        font-size: 2.5rem;
    }

    .hiw-steps-section {
        padding: 3rem 0;
    }

    .hiw-step {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
        padding: 2rem;
    }

    .hiw-step-visual {
        margin-bottom: 0;
    }

    .hiw-cta-btn {
        width: auto;
    }

    .hiw-features-grid {
        grid-template-columns: repeat(3, 1fr);
    }

    .pricing-section .container {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1.5rem;
        align-items: start;
    }

    .pricing-card {
        margin-bottom: 0;
    }

    .pricing-card.featured {
        transform: scale(1.05);
    }

    .qr-upsell-card {
        display: grid;
        grid-template-columns: auto 1fr auto;
        gap: 2rem;
        align-items: center;
        padding: 2rem;
    }

    .qr-upsell-icon {
        margin: 0;
    }

    .qr-upsell-content {
        text-align: left;
        margin-bottom: 0;
    }

    .qr-upsell-features {
        justify-content: flex-start;
    }

    .scout-info-section {
        padding: 3rem 0;
    }

    .scout-benefits-grid {
        grid-template-columns: repeat(4, 1fr);
    }

    .qr-features-grid {
        grid-template-columns: repeat(3, 1fr);
    }

    .memorial-select-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .scout-stats-grid {
        grid-template-columns: repeat(3, 1fr);
    }

    .scout-badges-grid {
        grid-template-columns: repeat(7, 1fr);
    }

    .leaderboard-item {
        grid-template-columns: 60px 60px 1fr auto;
    }
}

/* ============================================
   SCOUT GAMIFICATION STYLES
   ============================================ */

.scout-stats-section {
    padding: 0 0 2rem;
    margin-top: -1rem;
}

.scout-stats-card {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: var(--shadow-md);
    margin-bottom: 1rem;
}

.scout-level-display {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.scout-level-badge {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: #6c757d;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.scout-level-badge i {
    font-size: 1.75rem;
    color: white;
}

.scout-level-info h3 {
    font-size: 1.25rem;
    margin: 0 0 0.25rem;
    color: var(--primary-color);
}

.scout-level-info p {
    margin: 0;
    color: var(--text-muted-dark);
    font-size: 0.9rem;
}

.scout-stats-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.scout-stat {
    text-align: center;
    padding: 0.75rem;
    background: var(--light-gray);
    border-radius: 8px;
}

.scout-stat-value {
    display: block;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--primary-color);
}

.scout-stat-label {
    font-size: 0.8rem;
    color: var(--text-muted-dark);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.scout-progress-section {
    margin-bottom: 1rem;
}

.scout-progress-bar {
    height: 8px;
    background: var(--light-gray);
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 0.5rem;
}

.scout-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
    border-radius: 4px;
    transition: width 0.5s ease;
}

.scout-progress-text {
    font-size: 0.85rem;
    color: var(--text-muted-dark);
    margin: 0;
    text-align: center;
}

.scout-leaderboard-btn {
    width: 100%;
    margin-top: 0.5rem;
}

/* Scout Badges Card */
.scout-badges-card {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: var(--shadow-sm);
}

.scout-badges-card h3 {
    font-size: 1.1rem;
    margin: 0 0 1rem;
    color: var(--primary-color);
}

.scout-badges-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.75rem;
}

.scout-badge {
    position: relative;
    text-align: center;
    padding: 0.5rem;
}

.scout-badge.locked {
    opacity: 0.4;
}

.scout-badge-icon {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--primary-color), var(--primary-color-dark));
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 0.5rem;
    box-shadow: 0 2px 8px rgba(0,95,96,0.3);
}

.scout-badge.locked .scout-badge-icon {
    background: #ccc;
    box-shadow: none;
}

.scout-badge-icon i {
    font-size: 1.25rem;
    color: white;
}

.scout-badge-name {
    font-size: 0.7rem;
    color: var(--secondary-color);
    display: block;
    line-height: 1.2;
}

.scout-badge-lock {
    position: absolute;
    top: 0;
    right: 0;
    font-size: 0.6rem;
    color: #999;
}

/* ============================================
   LEADERBOARD STYLES
   ============================================ */

.leaderboard-user-section {
    padding: 0 0 1rem;
    margin-top: -1rem;
}

.leaderboard-user-card {
    background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-color-dark) 100%);
    border-radius: 12px;
    padding: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    color: white;
}

.leaderboard-user-rank {
    width: 60px;
    height: 60px;
    background: rgba(255,255,255,0.2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.rank-number {
    font-size: 1.5rem;
    font-weight: 700;
}

.leaderboard-user-info {
    flex: 1;
}

.leaderboard-user-info h3 {
    margin: 0 0 0.25rem;
    font-size: 1rem;
    color: white;
}

.leaderboard-user-info p {
    margin: 0;
    font-size: 0.85rem;
    opacity: 0.9;
}

.leaderboard-section {
    padding: var(--space-md) 0 var(--space-2xl);
    background: var(--bg-cream);
}

.leaderboard-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.leaderboard-item {
    background: var(--bg-white);
    border-radius: var(--radius-md);
    padding: var(--space-md);
    display: grid;
    grid-template-columns: 50px 50px 1fr;
    gap: var(--space-sm);
    align-items: center;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-light);
}

.leaderboard-item.rank-1 {
    background: linear-gradient(135deg, #fff9e6 0%, #fff3cd 100%);
    border: 2px solid #ffc107;
}

.leaderboard-item.rank-2 {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border: 2px solid #c0c0c0;
}

.leaderboard-item.rank-3 {
    background: linear-gradient(135deg, #fff5f0 0%, #ffe8dc 100%);
    border: 2px solid #cd7f32;
}

.leaderboard-rank {
    text-align: center;
}

.leaderboard-rank i {
    font-size: 1.5rem;
}

.leaderboard-item.rank-1 .leaderboard-rank i {
    color: #ffc107;
}

.leaderboard-item.rank-2 .leaderboard-rank i {
    color: #c0c0c0;
}

.leaderboard-item.rank-3 .leaderboard-rank i {
    color: #cd7f32;
}

.leaderboard-rank span {
    font-weight: 700;
    color: var(--text-muted-dark);
}

.leaderboard-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
}

.leaderboard-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.leaderboard-avatar i {
    font-size: 1.25rem;
    color: white;
}

.leaderboard-info {
    min-width: 0;
}

.leaderboard-info h4 {
    margin: 0 0 0.25rem;
    font-size: 1rem;
    color: var(--secondary-color);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.leaderboard-level {
    font-size: 0.8rem;
    font-weight: 500;
}

.leaderboard-stats {
    text-align: right;
}

.leaderboard-points {
    display: block;
    font-size: 1rem;
    font-weight: 700;
    color: var(--primary-color);
}

.leaderboard-details {
    font-size: 0.75rem;
    color: var(--text-muted-dark);
}

.leaderboard-cta-section {
    padding: var(--space-md) 0 var(--space-2xl);
}

/* ============================================
   AUTH PAGES (Login/Signup)
   ============================================ */

.auth-section {
    padding: var(--space-3xl) 0;
    background: var(--bg-cream);
}

.auth-card {
    background: var(--bg-white);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-xl);
    padding: var(--space-2xl);
    box-shadow: var(--shadow-lg);
}

.auth-divider {
    text-align: center;
    margin: var(--space-lg) 0;
    position: relative;
}

.auth-divider::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    width: 100%;
    height: 1px;
    background: var(--border-light);
}

.auth-divider span {
    background: var(--bg-white);
    padding: 0 var(--space-md);
    position: relative;
    color: var(--text-muted);
    font-size: 0.875rem;
}

.auth-hr {
    border-color: var(--border-light);
    margin: var(--space-xl) 0;
}

.auth-helper-text {
    color: var(--text-secondary);
    margin-bottom: var(--space-md);
    font-size: 0.95rem;
}

.auth-privacy-text {
    color: var(--text-muted);
    font-size: 0.85rem;
    text-align: center;
    margin: 0;
}

.auth-privacy-text a {
    color: var(--primary);
    text-decoration: none;
}

.auth-privacy-text a:hover {
    text-decoration: underline;
}

.auth-benefits {
    background: var(--bg-cream);
    border-radius: var(--radius-md);
    padding: var(--space-lg);
    margin-top: var(--space-lg);
}

.auth-benefit-item {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-xs) 0;
    color: var(--text-primary);
    font-size: 0.9rem;
}

.auth-benefit-item i {
    color: #27ae60;
    font-size: 0.9rem;
}

.auth-link {
    color: var(--text-secondary);
    text-decoration: none;
    font-size: 0.95rem;
}

.auth-link span {
    color: var(--primary);
    font-weight: 600;
}

.auth-link:hover {
    color: var(--primary);
}

/* Form Control Improvements */
.form-control {
    border-color: var(--border-light);
    border-radius: var(--radius-md);
    padding: var(--space-md);
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

.form-control:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(0, 95, 96, 0.1);
}

.form-control::placeholder {
    color: var(--text-muted);
}

.form-label {
    color: var(--text-primary);
    font-weight: 500;
    margin-bottom: var(--space-xs);
}

.form-text {
    color: var(--text-muted);
    font-size: 0.8rem;
}

/* ============================================
   ORDER TAG PAGE
   ============================================ */

.order-tag-page {
    background: var(--bg-cream);
    padding: var(--space-2xl) 0 var(--space-3xl);
}

.order-features-section {
    margin-bottom: var(--space-2xl);
}

.order-features-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-md);
}

@media (min-width: 768px) {
    .order-features-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

.order-feature-card {
    background: var(--bg-white);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    text-align: center;
    box-shadow: var(--shadow-sm);
}

.order-feature-icon {
    width: 64px;
    height: 64px;
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    margin: 0 auto var(--space-md);
}

.order-feature-icon.accent {
    background: linear-gradient(135deg, var(--accent-gold), var(--accent-warm));
}

.order-feature-card h5 {
    color: var(--text-primary);
    font-weight: 700;
    margin-bottom: var(--space-xs);
}

.order-feature-card p {
    color: var(--text-secondary);
    font-size: 0.9rem;
    margin: 0;
    line-height: 1.5;
}

.order-details-section {
    margin-bottom: var(--space-2xl);
}

.order-section-title {
    color: var(--text-primary);
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: var(--space-md);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.order-section-title i {
    color: var(--primary);
}

.order-checklist {
    list-style: none;
    padding: 0;
    margin: 0;
}

.order-checklist li {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-xs) 0;
    color: var(--text-primary);
    font-size: 0.95rem;
}

.order-checklist li i {
    color: #27ae60;
    font-size: 0.85rem;
}

.order-guarantee-card {
    background: linear-gradient(135deg, rgba(0, 95, 96, 0.05) 0%, rgba(0, 95, 96, 0.1) 100%);
    border: 1px solid rgba(0, 95, 96, 0.15);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    display: flex;
    gap: var(--space-md);
    align-items: flex-start;
    margin-bottom: var(--space-lg);
}

.order-guarantee-icon {
    width: 48px;
    height: 48px;
    min-width: 48px;
    background: var(--primary);
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.25rem;
}

.order-guarantee-content h5 {
    color: var(--primary);
    font-weight: 700;
    margin: 0 0 var(--space-xs) 0;
}

.order-guarantee-content p {
    color: var(--text-secondary);
    margin: 0;
    font-size: 0.95rem;
}

.order-shipping-info h4 {
    color: var(--text-primary);
    font-size: 1.1rem;
    font-weight: 700;
    margin-bottom: var(--space-sm);
}

.order-shipping-info p {
    color: var(--text-secondary);
    font-size: 0.95rem;
    margin: 0;
}

.order-secure-text {
    text-align: center;
    color: var(--text-muted);
    font-size: 0.85rem;
    margin: var(--space-sm) 0 0 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-xs);
}

.order-summary-card {
    background: var(--bg-white);
    border: 2px solid var(--primary);
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-lg);
}

.order-summary-header {
    background: var(--primary);
    color: white;
    padding: var(--space-md) var(--space-lg);
}

.order-summary-header h5 {
    color: white;
    margin: 0;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-size: 1rem;
}

.order-summary-body {
    padding: var(--space-lg);
}

.order-summary-item h6 {
    color: var(--text-primary);
    font-weight: 700;
    margin: 0 0 var(--space-xs) 0;
}

.order-memorial-name {
    color: var(--text-secondary);
    font-size: 0.85rem;
    margin: 0 0 var(--space-xs) 0;
}

.order-item-details {
    color: var(--text-muted);
    font-size: 0.8rem;
    margin: 0;
}

.order-summary-body hr {
    border-color: var(--border-light);
    margin: var(--space-md) 0;
}

.order-summary-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: var(--space-xs);
    color: var(--text-secondary);
}

.order-summary-row.order-total {
    margin-bottom: 0;
}

.order-summary-row.order-total strong {
    color: var(--primary);
}

.order-free-shipping {
    color: #27ae60;
    font-weight: 600;
}

.order-trust-badges {
    margin-top: var(--space-lg);
    text-align: center;
}

.order-trust-item {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-xs);
    padding: var(--space-xs) 0;
    color: var(--text-secondary);
    font-size: 0.85rem;
}

.order-trust-item i {
    color: #27ae60;
}

.order-faq-section {
    border-top: 1px solid var(--border-light);
    padding-top: var(--space-2xl);
    margin-top: var(--space-lg);
}

.order-faq-title {
    text-align: center;
    color: var(--text-primary);
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: var(--space-xl);
}

.order-faq-item h6 {
    color: var(--text-primary);
    font-weight: 700;
    margin-bottom: var(--space-xs);
}

.order-faq-item p {
    color: var(--text-secondary);
    font-size: 0.9rem;
    margin: 0;
    line-height: 1.6;
}

/* ===== PARTNER/AFFILIATE PAGE STYLES ===== */

/* Partner Benefits Section */
.partner-benefits-section {
    padding: var(--space-2xl) 0;
    background: var(--bg-warm);
}

.partner-benefits-grid {
    display: grid;
    grid-template-columns: repeat(1, 1fr);
    gap: var(--space-lg);
}

@media (min-width: 768px) {
    .partner-benefits-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

.partner-benefit-card {
    background: var(--bg-white);
    padding: var(--space-xl);
    border-radius: var(--radius-lg);
    text-align: center;
    box-shadow: var(--shadow-md);
}

.partner-benefit-icon {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: var(--primary-light);
    color: var(--primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    margin: 0 auto var(--space-md);
}

.partner-benefit-icon.accent {
    background: var(--accent-light);
    color: var(--accent-color);
}

.partner-benefit-card h4 {
    font-family: 'Playfair Display', serif;
    font-size: 1.1rem;
    margin-bottom: var(--space-sm);
    color: var(--text-primary);
}

.partner-benefit-card p {
    color: var(--text-secondary);
    font-size: 0.9rem;
    margin: 0;
}

/* Partner Signup Section */
.partner-signup-section {
    padding: var(--space-3xl) 0;
    background: var(--bg-cream);
}

.partner-signup-card {
    background: var(--bg-white);
    border-radius: var(--radius-xl);
    padding: var(--space-xl);
    box-shadow: var(--shadow-lg);
}

.partner-signup-header {
    text-align: center;
    margin-bottom: var(--space-xl);
}

.partner-signup-header h3 {
    font-family: 'Playfair Display', serif;
    font-size: 1.5rem;
    color: var(--text-primary);
    margin-bottom: var(--space-xs);
}

.partner-signup-header p {
    color: var(--text-secondary);
    margin: 0;
}

/* Partner Success Message */
.partner-success-message {
    text-align: center;
    padding: var(--space-xl);
}

.partner-success-message .success-icon {
    font-size: 4rem;
    color: var(--success);
    margin-bottom: var(--space-lg);
}

.partner-success-message h4 {
    font-family: 'Playfair Display', serif;
    font-size: 1.5rem;
    color: var(--text-primary);
    margin-bottom: var(--space-md);
}

.referral-code-display {
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary);
    background: var(--bg-cream);
    padding: var(--space-md) var(--space-xl);
    border-radius: var(--radius-md);
    display: inline-block;
    font-family: monospace;
    letter-spacing: 2px;
}

.referral-link-box {
    display: flex;
    gap: var(--space-sm);
    max-width: 500px;
    margin: 0 auto;
}

.referral-link-box .form-control {
    font-family: monospace;
    font-size: 0.85rem;
}

/* Partner Why Section */
.partner-why-section {
    padding: var(--space-3xl) 0;
    background: var(--bg-white);
}

.partner-why-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-lg);
    margin-top: var(--space-xl);
}

@media (min-width: 768px) {
    .partner-why-grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

.partner-why-item {
    text-align: center;
    padding: var(--space-lg);
}

.partner-why-item i {
    font-size: 2rem;
    color: var(--primary);
    margin-bottom: var(--space-md);
}

.partner-why-item h5 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: var(--space-xs);
}

.partner-why-item p {
    color: var(--text-secondary);
    font-size: 0.85rem;
    margin: 0;
}

/* Partner FAQ Section */
.partner-faq-section {
    padding: var(--space-3xl) 0;
    background: var(--bg-warm);
}

.partner-faq-item {
    background: var(--bg-white);
    padding: var(--space-lg);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-md);
    box-shadow: var(--shadow-sm);
}

.partner-faq-item h5 {
    color: var(--text-primary);
    font-weight: 600;
    margin-bottom: var(--space-sm);
}

.partner-faq-item p {
    color: var(--text-secondary);
    margin: 0;
    line-height: 1.6;
}

/* ===== PARTNER DASHBOARD STYLES ===== */

.partner-dashboard-section {
    padding: var(--space-2xl) 0;
    background: var(--bg-cream);
    min-height: 70vh;
}

.partner-stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-md);
    margin-bottom: var(--space-xl);
}

@media (min-width: 768px) {
    .partner-stats-grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

.partner-stat-card {
    background: var(--bg-white);
    padding: var(--space-lg);
    border-radius: var(--radius-lg);
    text-align: center;
    box-shadow: var(--shadow-md);
}

.partner-stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary);
    line-height: 1;
}

.partner-stat-value.success {
    color: var(--success);
}

.partner-stat-label {
    color: var(--text-secondary);
    font-size: 0.85rem;
    margin-top: var(--space-xs);
}

.partner-referral-box {
    background: var(--bg-white);
    padding: var(--space-xl);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
    margin-bottom: var(--space-xl);
}

.partner-referral-box h4 {
    font-family: 'Playfair Display', serif;
    margin-bottom: var(--space-md);
}

.partner-referrals-table {
    background: var(--bg-white);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
    overflow: hidden;
}

.partner-referrals-table h4 {
    font-family: 'Playfair Display', serif;
    padding: var(--space-lg);
    margin: 0;
    border-bottom: 1px solid var(--border-color);
}

.partner-referrals-table table {
    width: 100%;
    margin: 0;
}

.partner-referrals-table th {
    background: var(--bg-warm);
    padding: var(--space-md);
    font-weight: 600;
    text-align: left;
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.partner-referrals-table td {
    padding: var(--space-md);
    border-bottom: 1px solid var(--border-color);
}

.partner-referrals-table .badge {
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
    font-size: 0.75rem;
    font-weight: 600;
}

.partner-referrals-table .badge-success {
    background: var(--success-light);
    color: var(--success);
}

.partner-referrals-table .badge-pending {
    background: var(--warning-light);
    color: var(--warning);
}

/* ===== ORDER SUCCESS PAGE STYLES ===== */

.success-hero {
    background: linear-gradient(135deg, var(--success) 0%, #218838 100%);
}

.success-icon-large {
    font-size: 5rem;
    color: #fff;
    margin-bottom: var(--space-lg);
    animation: successPop 0.5s ease-out;
}

@keyframes successPop {
    0% { transform: scale(0); opacity: 0; }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); opacity: 1; }
}

.order-success-section {
    padding: var(--space-3xl) 0;
    background: var(--bg-cream);
}

.success-card {
    background: var(--bg-white);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
    margin-bottom: var(--space-lg);
    overflow: hidden;
}

.success-card-header {
    background: var(--bg-warm);
    padding: var(--space-md) var(--space-lg);
    border-bottom: 1px solid var(--border-color);
}

.success-card-header h3 {
    font-family: 'Playfair Display', serif;
    font-size: 1.1rem;
    margin: 0;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.success-card-header h3 i {
    color: var(--primary);
}

.success-card-body {
    padding: var(--space-lg);
}

.success-detail-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-sm) 0;
}

.success-detail-row .detail-label {
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.success-detail-row .detail-value {
    font-weight: 600;
    color: var(--text-primary);
}

.success-detail-row.total {
    padding-top: var(--space-md);
}

.success-detail-row.total .detail-value {
    font-size: 1.25rem;
    color: var(--success);
}

/* Shipping Timeline */
.shipping-timeline {
    margin-top: var(--space-lg);
}

.timeline-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-md);
    padding: var(--space-sm) 0;
    opacity: 0.5;
}

.timeline-item.active {
    opacity: 1;
}

.timeline-item.active .timeline-icon {
    background: var(--success);
    color: #fff;
}

.timeline-icon {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: var(--bg-warm);
    color: var(--text-secondary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    flex-shrink: 0;
}

.timeline-content strong {
    display: block;
    font-size: 0.9rem;
    color: var(--text-primary);
}

.timeline-content span {
    font-size: 0.8rem;
    color: var(--text-secondary);
}

/* Next Steps */
.next-steps {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.next-step-item {
    display: flex;
    gap: var(--space-md);
    padding: var(--space-md);
    background: var(--bg-cream);
    border-radius: var(--radius-md);
}

.next-step-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--primary-light);
    color: var(--primary);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.next-step-content strong {
    display: block;
    font-size: 0.95rem;
    color: var(--text-primary);
    margin-bottom: var(--space-xs);
}

.next-step-content p {
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin: 0;
    line-height: 1.5;
}

/* Success Actions */
.success-actions {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
    margin-bottom: var(--space-xl);
}

@media (min-width: 576px) {
    .success-actions {
        flex-direction: row;
    }
    .success-actions .btn {
        flex: 1;
    }
}

.success-support {
    text-align: center;
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.success-support a {
    color: var(--primary);
}

/* ===== WHOLESALE PAGE STYLES ===== */

.wholesale-hero {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
}

.wholesale-section {
    padding: var(--space-3xl) 0;
    background: var(--bg-cream);
}

.wholesale-pricing-grid {
    display: grid;
    grid-template-columns: repeat(1, 1fr);
    gap: var(--space-lg);
    margin-bottom: var(--space-2xl);
}

@media (min-width: 768px) {
    .wholesale-pricing-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

.wholesale-pricing-card {
    background: var(--bg-white);
    border-radius: var(--radius-lg);
    padding: var(--space-xl);
    text-align: center;
    box-shadow: var(--shadow-md);
    position: relative;
    transition: var(--transition-base);
}

.wholesale-pricing-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
}

.wholesale-pricing-card.featured {
    border: 2px solid var(--primary);
}

.wholesale-pricing-card.featured::before {
    content: 'Most Popular';
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--primary);
    color: #fff;
    padding: var(--space-xs) var(--space-md);
    border-radius: var(--radius-md);
    font-size: 0.75rem;
    font-weight: 600;
}

.wholesale-tier-name {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-secondary);
    margin-bottom: var(--space-sm);
}

.wholesale-quantity {
    font-family: 'Playfair Display', serif;
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--text-primary);
    line-height: 1;
}

.wholesale-quantity span {
    font-size: 1rem;
    color: var(--text-secondary);
    font-weight: 400;
}

.wholesale-price {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--primary);
    margin: var(--space-md) 0;
}

.wholesale-price span {
    font-size: 0.9rem;
    color: var(--text-secondary);
    font-weight: 400;
}

.wholesale-savings {
    background: var(--success-light);
    color: var(--success);
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
    font-size: 0.85rem;
    font-weight: 600;
    margin-bottom: var(--space-md);
    display: inline-block;
}

.wholesale-features {
    text-align: left;
    margin: var(--space-lg) 0;
}

.wholesale-features li {
    padding: var(--space-xs) 0;
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.wholesale-features li i {
    color: var(--success);
    margin-right: var(--space-sm);
}

/* Wholesale Application Form */
.wholesale-form-card {
    background: var(--bg-white);
    border-radius: var(--radius-xl);
    padding: var(--space-xl);
    box-shadow: var(--shadow-lg);
}

.wholesale-form-header {
    text-align: center;
    margin-bottom: var(--space-xl);
}

.wholesale-form-header h3 {
    font-family: 'Playfair Display', serif;
    font-size: 1.5rem;
    color: var(--text-primary);
    margin-bottom: var(--space-xs);
}

.wholesale-form-header p {
    color: var(--text-secondary);
    margin: 0;
}

/* ============================================
   MEMORIAL PAGE - TABBED INTERFACE
   ============================================ */

/* Memorial Tabs Container */
.memorial-tabs-container {
    background: var(--bg-cream);
    padding: 0 0 2rem;
    min-height: 400px;
}

/* Tab Navigation */
.memorial-nav-tabs {
    display: flex;
    justify-content: center;
    gap: 0.25rem;
    border: none;
    background: var(--bg-white);
    padding: 0.75rem 1rem;
    border-radius: 16px 16px 0 0;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
    margin-bottom: 0;
    position: sticky;
    top: 70px;
    z-index: 100;
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
}

.memorial-nav-tabs::-webkit-scrollbar {
    display: none;
}

.memorial-nav-tabs .nav-item {
    flex-shrink: 0;
}

.memorial-nav-tabs .nav-link {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.35rem;
    padding: 0.75rem 1.25rem;
    border: none;
    border-radius: 12px;
    color: var(--text-muted);
    font-size: 0.8rem;
    font-weight: 600;
    transition: all 0.2s ease;
    background: transparent;
    position: relative;
    white-space: nowrap;
}

.memorial-nav-tabs .nav-link i {
    font-size: 1.25rem;
}

.memorial-nav-tabs .nav-link:hover {
    color: var(--primary);
    background: rgba(0, 95, 96, 0.05);
}

.memorial-nav-tabs .nav-link.active {
    color: var(--primary);
    background: rgba(0, 95, 96, 0.1);
    box-shadow: none;
}

.memorial-nav-tabs .nav-link.active::after {
    content: '';
    position: absolute;
    bottom: -0.75rem;
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 3px;
    background: var(--primary);
    border-radius: 2px;
}

/* Tab Badge */
.tab-badge {
    position: absolute;
    top: 4px;
    right: 4px;
    background: #dc3545;
    color: white;
    font-size: 0.65rem;
    min-width: 18px;
    height: 18px;
    border-radius: 9px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
}

/* Tab Content */
.memorial-tab-content {
    background: var(--bg-white);
    border-radius: 0 0 16px 16px;
    padding: 1.5rem;
    box-shadow: var(--shadow-sm);
}

.memorial-tab-content > .tab-pane {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

/* Memorial Content Cards */
.memorial-content-card {
    background: var(--bg-white);
    border: 1px solid var(--border-light);
    border-radius: 12px;
    overflow: hidden;
}

.memorial-content-card .content-card-header {
    padding: 1rem 1.25rem;
    border-bottom: 1px solid var(--border-light);
    background: var(--bg-cream);
}

.memorial-content-card .content-card-header h5 {
    margin: 0;
    font-size: 1rem;
    font-weight: 700;
    color: var(--text-primary);
}

.memorial-content-card .content-card-header h5 i {
    color: var(--primary);
}

.memorial-content-card .content-card-body {
    padding: 1.25rem;
}

/* Bio card specific styling */
#bio-card .card-body,
#bio-card.memorial-content-card {
    background: var(--bg-white);
}

#bio-card .card-body {
    padding: 1.5rem;
}

#bio-card .card-title {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid var(--border-light);
}

#bio-card .card-title i {
    color: var(--primary);
}

/* Timeline card in tabs */
#timeline-card .card-body {
    padding: 1.5rem;
}

/* Gallery in tabs */
#gallery-card .card-body {
    padding: 1.25rem;
}

#gallery-card .row {
    margin: -0.25rem;
}

#gallery-card .col-4,
#gallery-card .col-md-3 {
    padding: 0.25rem;
}

/* Family cards in tabs */
#family-card .card-body {
    padding: 1.25rem;
}

/* Map cards in tabs */
#map-card .card-body {
    padding: 1.25rem;
}

/* Mobile Tab Styles */
@media (max-width: 767px) {
    .memorial-nav-tabs {
        justify-content: flex-start;
        padding: 0.5rem 0.75rem;
        gap: 0.15rem;
        top: 60px;
    }

    .memorial-nav-tabs .nav-link {
        padding: 0.5rem 0.75rem;
        font-size: 0.7rem;
    }

    .memorial-nav-tabs .nav-link i {
        font-size: 1.1rem;
    }

    .memorial-nav-tabs .nav-link span {
        display: block;
    }

    .memorial-tab-content {
        padding: 1rem;
        border-radius: 0 0 12px 12px;
    }

    .memorial-content-card .content-card-header {
        padding: 0.875rem 1rem;
    }

    .memorial-content-card .content-card-body {
        padding: 1rem;
    }
}

/* Tablet styles */
@media (min-width: 768px) and (max-width: 991px) {
    .memorial-nav-tabs .nav-link {
        padding: 0.75rem 1rem;
    }
}

/* Desktop - horizontal tabs with text */
@media (min-width: 992px) {
    .memorial-tabs-container .container {
        max-width: 900px;
    }

    .memorial-nav-tabs {
        gap: 0.5rem;
    }

    .memorial-nav-tabs .nav-link {
        flex-direction: row;
        gap: 0.5rem;
        padding: 0.875rem 1.5rem;
        font-size: 0.9rem;
    }

    .memorial-nav-tabs .nav-link i {
        font-size: 1rem;
    }

    .memorial-tab-content {
        padding: 2rem;
    }
}

/* Memorial Page Header - Improved */
.memorial-page-header {
    padding: 2.5rem 0;
    background: linear-gradient(180deg, #fff 0%, var(--bg-cream) 100%);
    border-bottom: none;
}

.memorial-header-name {
    font-family: 'Playfair Display', serif;
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--text-primary);
    line-height: 1.2;
    margin-bottom: 0.5rem;
}

/* Main photo styling */
#display-main-media {
    margin-bottom: 1.5rem;
}

#display-main-media img {
    max-width: 320px;
    max-height: 320px;
    width: 100%;
    object-fit: cover;
    border-radius: 16px;
    border: 4px solid #fff;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
}

/* Engagement section improvements */
#engagement-section {
    max-width: 500px;
    margin: 0 auto;
    padding: 1.25rem;
    border-radius: 16px;
    background: rgba(255, 193, 7, 0.06);
    border: 1px solid rgba(255, 193, 7, 0.15);
}

/* Scrolly Section - Desktop Grid */
@media (min-width: 992px) {
    .scrolly-section {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1.5rem;
        max-width: 1200px;
        margin: 0 auto;
    }

    /* Full-width cards */
    .scrolly-section #bio-card,
    .scrolly-section #timeline-card,
    .scrolly-section #tributes-card,
    .scrolly-section #voice-recordings-card,
    .scrolly-section #residences-map-card {
        grid-column: 1 / -1;
    }
}

/* Card improvements */
.scrolly-section .card {
    background: var(--bg-white);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    overflow: hidden;
}

.scrolly-section .card:hover {
    transform: none; /* Disable hover transform for memorial cards */
    box-shadow: var(--shadow-sm);
}

.scrolly-section .card-body {
    padding: 1.5rem;
}

.scrolly-section .card-title {
    font-size: 1.15rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid var(--border-light);
}

.scrolly-section .card-title i {
    color: var(--primary);
}

/* Map cards improvements */
#residences-map-card .card-body,
#map-card .card-body {
    padding: 1.25rem;
}

#residences-map-container,
#cemetery-map-container {
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid var(--border-light);
}

/* Visitor CTA Section */
#visitor-cta-section {
    padding: 2.5rem 0;
}

#visitor-cta-section .card {
    border-radius: 20px;
    overflow: hidden;
}

/* Mobile Memorial Page Styles */
@media (max-width: 767px) {
    .memorial-page-header {
        padding: 1.5rem 0 2rem;
    }

    .memorial-header-name {
        font-size: 1.75rem;
        padding: 0 1rem;
    }

    #display-main-media img {
        max-width: 200px;
        max-height: 200px;
        border-width: 3px;
    }

    #display-dates {
        font-size: 1rem;
    }

    /* Stack action buttons better on mobile */
    .memorial-page-header .d-flex.gap-2 {
        flex-wrap: wrap;
        justify-content: center;
    }

    .memorial-page-header .d-flex.gap-2 .btn {
        min-width: 120px;
    }

    #engagement-section {
        margin: 0 1rem;
        padding: 1rem;
    }

    .engagement-stats {
        gap: 1.5rem !important;
    }

    /* Mobile scrolly section */
    .scrolly-section {
        padding: 0 0.75rem;
    }

    .scrolly-section .card-body {
        padding: 1.25rem;
    }

    .scrolly-section .card-title {
        font-size: 1.05rem;
    }

    /* Mobile map height */
    #residences-map-container,
    #cemetery-map-container {
        height: 280px !important;
    }

    /* Visitor CTA - mobile */
    #visitor-cta-section {
        padding: 1.5rem 0;
    }

    #visitor-cta-section .card-body {
        padding: 2rem 1.5rem !important;
    }

    #visitor-cta-section h3 {
        font-size: 1.25rem;
    }

    #visitor-cta-section .lead {
        font-size: 1rem;
    }
}

/* Tablet specific adjustments */
@media (min-width: 768px) and (max-width: 991px) {
    .memorial-header-name {
        font-size: 2.25rem;
    }

    #display-main-media img {
        max-width: 280px;
        max-height: 280px;
    }

    .scrolly-section {
        max-width: 720px;
        margin: 0 auto;
    }
}

/* Large desktop - wider layout */
@media (min-width: 1200px) {
    .memorial-page-header .container {
        max-width: 900px;
    }

    #display-main-media img {
        max-width: 360px;
        max-height: 360px;
    }

    .memorial-header-name {
        font-size: 2.75rem;
    }
}

/* ============================================
   MEMORIAL BOOK ORDER PAGE STYLES
   ============================================ */

.order-book-page {
    padding: 2rem 0 4rem;
}

/* 3D Book Preview */
.book-preview-section {
    margin-bottom: 2rem;
}

.book-preview-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 2rem;
}

.book-3d-wrapper {
    perspective: 1000px;
    margin-bottom: 1rem;
}

.book-3d {
    position: relative;
    width: 280px;
    height: 380px;
    transform-style: preserve-3d;
    transform: rotateY(-15deg);
    transition: transform 0.5s ease;
}

.book-3d:hover {
    transform: rotateY(-30deg);
}

.book-cover {
    position: absolute;
    width: 100%;
    height: 100%;
    background: linear-gradient(145deg, #1a1a2e 0%, #16213e 50%, #0f0f1a 100%);
    border-radius: 0 8px 8px 0;
    box-shadow:
        5px 5px 20px rgba(0, 0, 0, 0.4),
        inset -2px 0 10px rgba(255, 255, 255, 0.05);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    backface-visibility: hidden;
    border-left: 4px solid #c9a227;
}

.book-spine {
    position: absolute;
    left: -20px;
    width: 20px;
    height: 100%;
    background: linear-gradient(90deg, #0f0f1a, #1a1a2e);
    transform: rotateY(90deg);
    transform-origin: right;
    border-radius: 4px 0 0 4px;
}

.book-cover-photo {
    width: 140px;
    height: 180px;
    border-radius: 8px;
    overflow: hidden;
    margin-bottom: 1.5rem;
    background: rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    border: 3px solid rgba(201, 162, 39, 0.5);
}

.book-cover-photo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.book-cover-photo .cover-placeholder {
    font-size: 4rem;
    color: rgba(255, 255, 255, 0.3);
}

.book-cover-text {
    text-align: center;
    color: #fff;
}

.book-cover-name {
    font-family: 'Playfair Display', serif;
    font-size: 1.25rem;
    color: #c9a227;
    margin-bottom: 0.5rem;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.book-cover-dates {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.7);
    margin: 0;
}

.book-preview-caption {
    font-size: 0.85rem;
    color: var(--text-muted);
}

/* Cover Template Styles */
.book-3d.template-classic .book-cover {
    background: linear-gradient(145deg, #1a1a2e 0%, #16213e 50%, #0f0f1a 100%);
    border-left-color: #c9a227;
}

.book-3d.template-modern .book-cover {
    background: linear-gradient(145deg, #ffffff 0%, #f5f5f5 50%, #e8e8e8 100%);
    border-left-color: #005F60;
}

.book-3d.template-modern .book-cover-name {
    color: #005F60;
}

.book-3d.template-modern .book-cover-dates {
    color: #666;
}

.book-3d.template-modern .book-spine {
    background: linear-gradient(90deg, #e8e8e8, #ffffff);
}

.book-3d.template-nature .book-cover {
    background: linear-gradient(145deg, #2d4a3e 0%, #1e352a 50%, #152419 100%);
    border-left-color: #8fbc8f;
}

.book-3d.template-nature .book-cover-name {
    color: #8fbc8f;
}

.book-3d.template-nature .book-spine {
    background: linear-gradient(90deg, #152419, #2d4a3e);
}

.book-3d.template-faith .book-cover {
    background: linear-gradient(145deg, #4a3c6e 0%, #352a52 50%, #241c38 100%);
    border-left-color: #d4af37;
}

.book-3d.template-faith .book-cover-name {
    color: #d4af37;
}

.book-3d.template-faith .book-spine {
    background: linear-gradient(90deg, #241c38, #4a3c6e);
}

/* Sample Pages Preview */
.sample-pages-section {
    padding: 2rem 0;
    margin-bottom: 2rem;
}

.sample-pages-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1.5rem;
}

@media (max-width: 991px) {
    .sample-pages-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 575px) {
    .sample-pages-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
    }
}

.sample-page {
    text-align: center;
}

.sample-page-content {
    background: #fff;
    border-radius: 4px;
    aspect-ratio: 8.5/11;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    padding: 1rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    margin-bottom: 0.75rem;
    border: 1px solid #e0e0e0;
}

.sample-page-label {
    font-size: 0.85rem;
    color: var(--text-muted);
    font-weight: 500;
}

/* Title Page Sample */
.sample-page-content.title-page {
    background: linear-gradient(145deg, #f8f6f0 0%, #fff 100%);
}

.sample-photo-placeholder {
    width: 60px;
    height: 75px;
    background: #e8e8e8;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 0.75rem;
    border: 2px solid #d0d0d0;
}

.sample-photo-placeholder i {
    font-size: 1.5rem;
    color: #999;
}

.sample-name {
    font-family: 'Playfair Display', serif;
    font-size: 0.9rem;
    font-weight: 600;
    color: #333;
    margin-bottom: 0.25rem;
}

.sample-dates {
    font-size: 0.7rem;
    color: #666;
    margin-bottom: 0.5rem;
}

.sample-subtitle {
    font-size: 0.6rem;
    color: #888;
    font-style: italic;
}

/* Bio Page Sample */
.sample-page-title {
    font-family: 'Playfair Display', serif;
    font-size: 0.8rem;
    font-weight: 600;
    color: #333;
    margin-bottom: 0.75rem;
    width: 100%;
    text-align: left;
    border-bottom: 1px solid #e0e0e0;
    padding-bottom: 0.5rem;
}

.sample-text-lines {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
}

.sample-line {
    height: 6px;
    background: #e8e8e8;
    border-radius: 3px;
    width: 100%;
}

.sample-line.short {
    width: 70%;
}

/* Gallery Page Sample */
.sample-photo-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.5rem;
    width: 100%;
}

.sample-photo {
    aspect-ratio: 4/3;
    background: #f0f0f0;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid #e0e0e0;
}

.sample-photo i {
    font-size: 1rem;
    color: #bbb;
}

/* Timeline Page Sample */
.sample-timeline {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.sample-timeline-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.sample-year {
    font-size: 0.6rem;
    font-weight: 600;
    color: var(--primary);
    min-width: 30px;
}

.sample-timeline-item .sample-line {
    flex: 1;
    height: 4px;
}

/* Cover Template Selector */
.cover-template-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.75rem;
}

.cover-template-option {
    cursor: pointer;
    text-align: center;
    padding: 0.5rem;
    border-radius: 8px;
    border: 2px solid transparent;
    transition: all 0.2s ease;
}

.cover-template-option:hover {
    background: rgba(0, 95, 96, 0.1);
}

.cover-template-option.active {
    border-color: var(--primary);
    background: rgba(0, 95, 96, 0.1);
}

.template-preview {
    width: 100%;
    aspect-ratio: 3/4;
    border-radius: 4px;
    margin-bottom: 0.5rem;
}

.template-preview.template-classic {
    background: linear-gradient(145deg, #1a1a2e, #0f0f1a);
    border-left: 3px solid #c9a227;
}

.template-preview.template-modern {
    background: linear-gradient(145deg, #ffffff, #e8e8e8);
    border-left: 3px solid #005F60;
}

.template-preview.template-nature {
    background: linear-gradient(145deg, #2d4a3e, #152419);
    border-left: 3px solid #8fbc8f;
}

.template-preview.template-faith {
    background: linear-gradient(145deg, #4a3c6e, #241c38);
    border-left: 3px solid #d4af37;
}

.cover-template-option span {
    font-size: 0.8rem;
    color: var(--text-muted);
}

.cover-template-option.active span {
    color: var(--primary);
    font-weight: 600;
}

/* Book Sections Toggle List */
.book-sections-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.book-section-toggle {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    background: rgba(0, 95, 96, 0.05);
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.2s ease;
}

.book-section-toggle:hover {
    background: rgba(0, 95, 96, 0.1);
}

.book-section-toggle input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: var(--primary);
}

.book-section-toggle input[type="checkbox"]:disabled {
    opacity: 0.7;
}

.book-section-toggle .section-name {
    flex: 1;
    font-size: 0.95rem;
}

.book-section-toggle .section-name i {
    width: 20px;
    color: var(--primary);
    margin-right: 0.5rem;
}

.book-section-toggle .section-count {
    font-size: 0.8rem;
    color: var(--text-muted);
}

.book-section-toggle .section-badge {
    font-size: 0.7rem;
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
    background: var(--primary);
    color: white;
}

.book-section-toggle .section-badge.required {
    background: rgba(0, 95, 96, 0.2);
    color: var(--primary);
}

/* Upsell Banner */
.upsell-banner {
    margin-top: 1rem;
    padding: 1.25rem;
    background: linear-gradient(135deg, rgba(0, 95, 96, 0.1), rgba(0, 95, 96, 0.05));
    border-radius: 12px;
    border: 1px solid rgba(0, 95, 96, 0.2);
    position: relative;
}

.upsell-badge {
    position: absolute;
    top: -10px;
    right: 15px;
    background: #28a745;
    color: white;
    font-size: 0.7rem;
    font-weight: 700;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
}

.upsell-banner h5 {
    font-size: 1rem;
    margin-bottom: 0.5rem;
    color: var(--text-dark);
}

.upsell-banner p {
    font-size: 0.85rem;
    color: var(--text-muted);
    margin-bottom: 0.75rem;
}

/* Mobile Responsive */
@media (max-width: 991px) {
    .book-preview-section .row {
        flex-direction: column;
    }

    .book-3d {
        width: 220px;
        height: 300px;
    }

    .book-cover-photo {
        width: 110px;
        height: 140px;
    }

    .book-cover-name {
        font-size: 1rem;
    }

    .cover-template-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 576px) {
    .book-3d {
        width: 180px;
        height: 250px;
    }

    .book-cover-photo {
        width: 90px;
        height: 115px;
    }

    .book-cover {
        padding: 1rem;
    }

    .book-cover-name {
        font-size: 0.9rem;
    }

    .book-cover-dates {
        font-size: 0.8rem;
    }
}

/* ============================================
   FAMILY NEARBY - Visitor Pinning Feature
   ============================================ */

.family-nearby-card {
    background: var(--bg-white);
    border-radius: var(--radius-md);
    padding: var(--space-sm);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: var(--space-xs);
    border: 1px solid var(--border-light);
    transition: var(--transition-base);
    height: 100%;
}

.family-nearby-card:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

.family-nearby-card.needs-pin {
    border-color: #fbbf24;
    background: linear-gradient(to bottom, #fffbeb 0%, var(--bg-white) 100%);
}

.family-nearby-card.linked {
    text-decoration: none;
    color: inherit;
    cursor: pointer;
}

.family-nearby-photo {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid var(--border-light);
}

.family-nearby-placeholder {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--bg-warm) 0%, var(--bg-cream) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
    font-size: 1.25rem;
    border: 2px solid var(--border-light);
}

.family-nearby-info {
    flex: 1;
    min-width: 0;
}

.family-nearby-name {
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--text-primary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.family-nearby-relation {
    font-size: 0.8rem;
    color: var(--text-secondary);
}

.family-nearby-dates {
    font-size: 0.75rem;
    color: var(--text-muted);
}

.family-nearby-burial {
    font-size: 0.75rem;
    color: var(--primary);
    margin-top: 2px;
}

.family-nearby-link {
    font-size: 0.75rem;
    color: var(--primary);
    margin-top: 4px;
}

.family-pin-btn {
    font-size: 0.75rem;
    padding: 0.35rem 0.5rem;
    margin-top: auto;
    white-space: nowrap;
}

.family-nearby-section {
    margin-bottom: var(--space-md);
}

/* Family nearby card in memorial page */
#family-nearby-card .content-card-header {
    border-radius: var(--radius-md) var(--radius-md) 0 0;
}

#family-nearby-card .content-card-body {
    padding: var(--space-md);
}

/* Mobile adjustments */
@media (max-width: 576px) {
    .family-nearby-photo,
    .family-nearby-placeholder {
        width: 50px;
        height: 50px;
    }

    .family-nearby-name {
        font-size: 0.85rem;
    }

    .family-nearby-relation,
    .family-nearby-dates,
    .family-nearby-burial {
        font-size: 0.7rem;
    }

    .family-pin-btn {
        font-size: 0.7rem;
        padding: 0.25rem 0.4rem;
    }
}